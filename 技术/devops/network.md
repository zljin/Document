---
title: 网络基础
date: 2021-01-18 08:00:45
tags: 技术笔记
categories: devops
---

![](https://cdn.jsdelivr.net/gh/zljin/document/img/technical/network1.png)

## 应用层
HTTPS
通过ssl加密的http,更安全的http

对称和非对称加密
对称加密：用公钥(同一把钥匙加锁，同一把钥匙解锁) DES
非对称加密：把锁头比作公钥，钥匙比作私钥，服务器接受所有信息前，先用锁头上锁加密，即公钥加密。之后收到消息之后，用钥匙解开密码，即私钥进行解密。 RSA

工作过程
在浏览器访问web服务时，会进行握手，其中服务器会向浏览器发送ssl的证书。ssl证书可以理解为服务器的网站身份证，包含网站域名，证书有效期，颁发机构，加密的公钥等信息

浏览器收到ssl证书后会进行验证，证书是否合法有效，如域名是否相同，颁发机构等，如果都验证成功，则通过证书传来的公钥，将要传输的信息通过公钥加密，服务端接收到信息后，

再通过私钥解密传输信息即可

## 传输层

TCP 面向可靠连接的，基于字节流的传输层通信协议
UDP 面向报文，不具有可靠性

Socket 是一个 封装了TCP/IP 协议族的对外编程API接口,在传输层解决网络数据传输。一个 Socket 实例 唯一代表一个主机上的一个应用程序的通信链路

Socket address(ip+port) 将数据资料传送到相应的进程和线程
Socket pairs(ip+port+protocoll) 进行两台主机的通信和数据传输的交换

## 网络层

IP

192.168.0.0/16  --16代表网络前缀,指前面16位不变

### NAT网络地址转换

装有 NAT 软件的路由器叫作 NAT路由器，它至少有一个有效的外部全球IP地址，所有使用本地地址的主机在和外界通信时，
都要在 NAT 路由器上将其本地地址转换成全球 IP 地址。(将私网ip通过nat转换为公有的ip进行互联网访问）
通过NAT让外网连入内网，通过DHCP动态分配ip


## 输入URL 到页面加载过程

1. 地址栏输入URL
2. DNS 域名解析IP
3. 请求和响应数据
    建立TCP连接（3次握手）
    发送HTTP请求
    服务器处理请求
    返回HTTP响应结果
    关闭TCP连接（4次挥手）
4. 浏览器加载，解析和渲染
